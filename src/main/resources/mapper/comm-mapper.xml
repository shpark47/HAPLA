<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hapla.comm.model.mapper.CommMapper">
    <select id="getListCount" parameterType="int" resultType="int">
        SELECT COUNT(*) FROM comm WHERE status = 'Y'
    </select>
    
   	<select id="selectCommList" resultType="com.hapla.comm.model.vo.Comm">
		SELECT *
		FROM comm
			 JOIN users ON comm.user_no = users.user_no
		WHERE comm.status = 'Y'
	</select>
	
	<insert id="insertComm">
		<selectKey order="BEFORE" resultType="_int" keyProperty="commNo">
         select seq_comm.nextval from dual
      </selectKey>
      insert into comm
      values(#{commNo}, #{categoryNo}, #{name}, #{title}, #{commContent},
            default, sysdate, sysdate, default, default)
	</insert>
</mapper>





